# SPDX-License-Identifier: Apache-2.0
# SPDX-FileCopyrightText: 2024-Present Harry Randazzo
# yaml-language-server: $schema=vai.schema.json

hello-world:
  - run: echo "Hello, World!"

test:
  - run: |
      go test -race -covermode=atomic -coverprofile=coverage.out -failfast -timeout 3m ./... -short="$SHORT"
    with:
      short: input ?? false

test-short:
  - uses: test
    with:
      short: true

clean:
  - run: rm -r bin/
  - run: rm -r coverage.out

lint:
  - run: golangci-lint run ./...

benchmark:
  - run: hyperfine './bin/vai hello-world' 'make hello-world' -N --warmup 10
